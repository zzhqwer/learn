<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>计算器</title>
		<style type="text/css">
			.box{
				width: 800px;
				margin: 0 auto;
			}
			.box input{
				width: 100%;
				padding: 15px;
				outline: none;
				border-color: black;
			}
			.box .btn button {
				width: 15%;
				padding: 15px;
				margin: 15px;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<input type="text" dir="rtl" name="" id="" value="0" />
			<div class="btn">
				
			</div>
		</div>
		<script type="text/javascript">
			var btn = document.querySelector('.btn');
			var keywords = ['0','1','2','3','4','5','6','7','8','9','.','-','+','*','/','=','AC']
			
			for(let i in keywords) {
				btn.innerHTML += `<button>${keywords[i]}</button>`
				if (i > 0 && (+i + 1) % 5 == 0){
					btn.innerHTML += "<br>";
				}
			}
			var a='0', b = '0', c = '';
			var buttons = document.querySelectorAll('.btn button');
			for(let i in buttons) {
				let input = document.querySelector('input');
				buttons[i].onclick = function () {
					var btnIn = this.innerHTML;
					if(btnIn === '0'||btnIn === '1' || btnIn === '2' || btnIn === '3' || btnIn === '4' || btnIn === '5' || btnIn === '6' || btnIn === '7' || btnIn === '8' || btnIn === '9') {
						if (b === '0') {
							b = btnIn;
						}else{
							b += btnIn ;
						}
						input.value = b ;
					}else if ( btnIn === '.') {
						if (b.indexOf('.') == -1){
							b += btnIn;
						}
					}else if (btnIn === '-' || btnIn === '+' ||btnIn === '*' || btnIn === '/'){
						a = b;
						b = '0' ;
						c = btnIn;
					}else if (btnIn === '=') {
						a = eval(a + c + b);
						input.value = a ;
						b = a;
					}else if (btnIn === 'AC'){
						a = '0';
						b = '0';
						input.value = 0;
						c = '';
					}
				}
			}
		</script>
	</body>
</html>
